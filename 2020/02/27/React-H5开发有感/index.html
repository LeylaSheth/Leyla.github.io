<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <link rel="stylesheet" href="/lib/pace/pace-theme-minimal.min.css">
  <script src="/lib/pace/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('http://yoursite.com').hostname,
    root: '/',
    scheme: 'Pisces',
    version: '7.7.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    comments: {"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="React H5 开发有感React官方脚手架123npx create-react-app my-appcd my-appnpm start">
<meta property="og:type" content="article">
<meta property="og:title" content="React H5开发有感">
<meta property="og:url" content="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/index.html">
<meta property="og:site_name" content="Leyla Sheth">
<meta property="og:description" content="React H5 开发有感React官方脚手架123npx create-react-app my-appcd my-appnpm start">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/zhandian.png">
<meta property="og:image" content="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/tianjia.png">
<meta property="og:image" content="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/shengcheng.png">
<meta property="article:published_time" content="2020-02-27T06:00:50.000Z">
<meta property="article:modified_time" content="2020-02-27T07:16:35.562Z">
<meta property="article:author" content="Lee Yue">
<meta property="article:tag" content="ES6">
<meta property="article:tag" content="React">
<meta property="article:tag" content="工程">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/zhandian.png">

<link rel="canonical" href="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true
  };
</script>

  <title>React H5开发有感 | Leyla Sheth</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

<link rel="alternate" href="/atom.xml" title="Leyla Sheth" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband">
      <a href="https://github.com/LeylaSheth" target="_blank" rel="noopener" class="github-corner" aria-label="View source on GitHub"><svg width="80" height="80" viewBox="0 0 250 250" style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a><style>.github-corner:hover .octo-arm{animation:octocat-wave 560ms ease-in-out}@keyframes octocat-wave{0%,100%{transform:rotate(0)}20%,60%{transform:rotate(-25deg)}40%,80%{transform:rotate(10deg)}}@media (max-width:500px){.github-corner:hover .octo-arm{animation:none}.github-corner .octo-arm{animation:octocat-wave 560ms ease-in-out}}</style>
    </div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Leyla Sheth</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">BingYan Studio FED Fox</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="搜索..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/header.jpg">
      <meta itemprop="name" content="Lee Yue">
      <meta itemprop="description" content="Some Blogs">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Leyla Sheth">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          React H5开发有感
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>
              

              <time title="创建时间：2020-02-27 14:00:50 / 修改时间：15:16:35" itemprop="dateCreated datePublished" datetime="2020-02-27T14:00:50+08:00">2020-02-27</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>
            </span>

          <br>
            <span class="post-meta-item" title="本文字数">
              <span class="post-meta-item-icon">
                <i class="fa fa-file-word-o"></i>
              </span>
                <span class="post-meta-item-text">本文字数：</span>
              <span>18k</span>
            </span>
            <span class="post-meta-item" title="阅读时长">
              <span class="post-meta-item-icon">
                <i class="fa fa-clock-o"></i>
              </span>
                <span class="post-meta-item-text">阅读时长 &asymp;</span>
              <span>16 分钟</span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="React-H5-开发有感"><a href="#React-H5-开发有感" class="headerlink" title="React H5 开发有感"></a>React H5 开发有感</h1><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="官方脚手架"><a href="#官方脚手架" class="headerlink" title="官方脚手架"></a>官方脚手架</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app my-app</span><br><span class="line"><span class="built_in">cd</span> my-app</span><br><span class="line">npm start</span><br></pre></td></tr></table></figure>
<a id="more"></a>
<p>这里可能存在 npm 缓存问题，清除缓存<code>npm clean cache --force</code></p>
<h3 id="路由处理"><a href="#路由处理" class="headerlink" title="路由处理"></a>路由处理</h3><h4 id="在-Page-文件夹导出所有页面"><a href="#在-Page-文件夹导出所有页面" class="headerlink" title="在 Page 文件夹导出所有页面"></a>在 Page 文件夹导出所有页面</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> One <span class="keyword">from</span> <span class="string">'./1/one'</span>;</span><br><span class="line"><span class="keyword">import</span> Two <span class="keyword">from</span> <span class="string">'./2/two'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> &#123; One, Two &#125;;</span><br></pre></td></tr></table></figure>
<h4 id="创建路由配置文件"><a href="#创建路由配置文件" class="headerlink" title="创建路由配置文件"></a>创建路由配置文件</h4><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;</span><br><span class="line">  One,</span><br><span class="line">  Two</span><br><span class="line">&#125; <span class="keyword">from</span> <span class="string">'./pages/index'</span>‘</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> RouterConfig = [</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/one'</span>,</span><br><span class="line">    component: One,</span><br><span class="line">    sceneConfig: &#123;</span><br><span class="line">      enter: <span class="string">'from-left'</span>,</span><br><span class="line">      exit: <span class="string">'to-right'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    path: <span class="string">'/two'</span>,</span><br><span class="line">    component: Two,</span><br><span class="line">    sceneConfig: &#123;</span><br><span class="line">      enter: <span class="string">'from-left'</span>,</span><br><span class="line">      exit: <span class="string">'to-right'</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h4 id="引入路由配置（具有动画的配置）"><a href="#引入路由配置（具有动画的配置）" class="headerlink" title="引入路由配置（具有动画的配置）"></a>引入路由配置（具有动画的配置）</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import &#123; RouterConfig &#125; from &#39;.&#x2F;RouteConfig&#39;; &#x2F;&#x2F;引入路由配置</span><br><span class="line">import &#39;.&#x2F;app.scss&#39;;</span><br><span class="line">import &#123; Route, Switch, HashRouter, withRouter &#125; from &#39;react-router-dom&#39;;</span><br><span class="line">import &#39;.&#x2F;index.css&#39;;</span><br><span class="line">import &#123; CSSTransition, TransitionGroup &#125; from &#39;react-transition-group&#39;;</span><br><span class="line"></span><br><span class="line">const DEFAULT_SCENE_CONFIG &#x3D; &#123;</span><br><span class="line">  enter: &#39;from-right&#39;,</span><br><span class="line">  exit: &#39;to-exit&#39;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">const getSceneConfig &#x3D; location &#x3D;&gt; &#123;</span><br><span class="line">  const matchedRoute &#x3D; RouterConfig.find(config &#x3D;&gt;</span><br><span class="line">    new RegExp(&#96;^$&#123;config.path&#125;$&#96;).test(location.pathname)</span><br><span class="line">  );</span><br><span class="line">  return (matchedRoute &amp;&amp; matchedRoute.sceneConfig) || DEFAULT_SCENE_CONFIG;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line">let oldLocation &#x3D; null;</span><br><span class="line">const Routes &#x3D; withRouter((&#123; location, history &#125;) &#x3D;&gt; &#123;</span><br><span class="line">  &#x2F;&#x2F; 转场动画应该都是采用当前页面的sceneConfig，所以：</span><br><span class="line">  &#x2F;&#x2F; push操作时，用新location匹配的路由sceneConfig</span><br><span class="line">  &#x2F;&#x2F; pop操作时，用旧location匹配的路由sceneConfig</span><br><span class="line">  let classNames &#x3D; &#39;&#39;;</span><br><span class="line">  if (history.action &#x3D;&#x3D;&#x3D; &#39;PUSH&#39;) &#123;</span><br><span class="line">    classNames &#x3D; &#39;forward-&#39; + getSceneConfig(location).enter;</span><br><span class="line">  &#125; else if (history.action &#x3D;&#x3D;&#x3D; &#39;POP&#39; &amp;&amp; oldLocation) &#123;</span><br><span class="line">    classNames &#x3D; &#39;back-&#39; + getSceneConfig(oldLocation).exit;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  &#x2F;&#x2F; 更新旧location</span><br><span class="line">  oldLocation &#x3D; location;</span><br><span class="line"></span><br><span class="line">  return (</span><br><span class="line">    &lt;TransitionGroup</span><br><span class="line">      className&#x3D;&#123;&#39;router-wrapper&#39;&#125;</span><br><span class="line">      childFactory&#x3D;&#123;child &#x3D;&gt; React.cloneElement(child, &#123; classNames &#125;)&#125;</span><br><span class="line">    &gt;</span><br><span class="line">      &lt;CSSTransition timeout&#x3D;&#123;800&#125; key&#x3D;&#123;location.pathname&#125;&gt;</span><br><span class="line">        &lt;Switch location&#x3D;&#123;location&#125;&gt;</span><br><span class="line">          &#123;RouterConfig.map((config, index) &#x3D;&gt; (</span><br><span class="line">            &lt;Route exact key&#x3D;&#123;index&#125; &#123;...config&#125; &#x2F;&gt;</span><br><span class="line">          ))&#125;</span><br><span class="line">        &lt;&#x2F;Switch&gt;</span><br><span class="line">      &lt;&#x2F;CSSTransition&gt;</span><br><span class="line">    &lt;&#x2F;TransitionGroup&gt;</span><br><span class="line">  );</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">export default class App extend React.PureComponent &#123;</span><br><span class="line">  render()&#123;</span><br><span class="line">    return</span><br><span class="line">    &lt;HashRouter&gt;</span><br><span class="line">    	&lt;Routes &#x2F;&gt;</span><br><span class="line">    &lt;&#x2F;HashRouter&gt;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="挂载"><a href="#挂载" class="headerlink" title="挂载"></a>挂载</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import ReactDOM from &#39;react-dom&#39;;</span><br><span class="line">import &#39;.&#x2F;index.css&#39;;</span><br><span class="line">import App from &#39;.&#x2F;App&#39;;</span><br><span class="line"></span><br><span class="line">ReactDOM.render( &lt; App &#x2F; &gt; , document.getElementById(&#39;root&#39;));</span><br></pre></td></tr></table></figure>
<p>现在存在的问题，依然使用了老旧的版本<code>class</code>来构建组件，且组件分离不明显。</p>
<h3 id="长按Button封装"><a href="#长按Button封装" class="headerlink" title="长按Button封装"></a>长按Button封装</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line"></span><br><span class="line">class MyButton extends React.Component &#123;</span><br><span class="line">  onTouchStart(callback, time) &#123;</span><br><span class="line">    this.timeOutEvent &#x3D; setInterval(function() &#123;</span><br><span class="line">      this.timeOutEvent &#x3D; 0;</span><br><span class="line">      callback();</span><br><span class="line">      console.log(&#39;你长按了&#39;);</span><br><span class="line">    &#125;, time);</span><br><span class="line">  &#125;</span><br><span class="line">  onTouchMove() &#123;</span><br><span class="line">    clearInterval(this.timeOutEvent);</span><br><span class="line">    this.timeOutEvent &#x3D; 0;</span><br><span class="line">  &#125;</span><br><span class="line">  onTouchEnd() &#123;</span><br><span class="line">    clearInterval(this.timeOutEvent);</span><br><span class="line">    if (this.timeOutEvent !&#x3D;&#x3D; 0) &#123;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    return false;</span><br><span class="line">  &#125;</span><br><span class="line">  componentWillUnmount() &#123;</span><br><span class="line">    clearInterval(this.timeOutEvent);</span><br><span class="line">    this.timeOutEvent &#x3D; 0;</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; callback, time &#125; &#x3D; this.props;</span><br><span class="line">    return (</span><br><span class="line">      &lt;div</span><br><span class="line">        className&#x3D;&quot;start&quot;</span><br><span class="line">        onTouchStart&#x3D;&#123;this.onTouchStart.bind(this, callback, time)&#125;</span><br><span class="line">        onTouchEnd&#x3D;&#123;this.onTouchEnd.bind(this)&#125;</span><br><span class="line">      &gt;&lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default MyButton;</span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&#x2F;&#x2F;调用</span><br><span class="line">&lt;MyButton</span><br><span class="line">	time&#x3D;&#123;time&#125;</span><br><span class="line">	callback&#x3D;&#123;this.handleAnimation.bind(this)&#125;</span><br><span class="line">&gt;&lt;&#x2F;MyButton&gt;</span><br></pre></td></tr></table></figure>
<h2 id="动画——react-transition-group"><a href="#动画——react-transition-group" class="headerlink" title="动画——react-transition-group"></a>动画——<code>react-transition-group</code></h2><p><a href="https://reactcommunity.org/react-transition-group/" target="_blank" rel="noopener">官方文档</a></p>
<p>安装<code>npm install react-transition-group --save</code></p>
<h3 id="CSSTransition"><a href="#CSSTransition" class="headerlink" title="CSSTransition"></a>CSSTransition</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import &#123; TransitionGroup, CSSTransition &#125; from &#39;react-transition-group&#39;;&#x2F;&#x2F;引入</span><br><span class="line"></span><br><span class="line">class Animition extends React.Component&#123;</span><br><span class="line">  this.state&#x3D;&#123;</span><br><span class="line">    show:false</span><br><span class="line">  &#125;</span><br><span class="line">	render()&#123;</span><br><span class="line">    return (</span><br><span class="line">    	&lt;CSSTransition</span><br><span class="line">          in&#x3D;&#123;show&#125; &#x2F;&#x2F;是否显示</span><br><span class="line">          timeout&#x3D;&#123;500&#125; &#x2F;&#x2F;延时时间，可以是个对象enter、exit</span><br><span class="line">          classNames&#x3D;&quot;idea&quot; &#x2F;&#x2F;类名开头</span><br><span class="line">          unmountOnExit &#x2F;&#x2F;默认卸载离开</span><br><span class="line">          key&#x3D;&quot;idea&quot; &#x2F;&#x2F;key</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div className&#x3D;&quot;idea&quot; &#x2F;&gt; &#123;&#x2F;*只能包裹一个整体元素*&#x2F;&#125;</span><br><span class="line">        &lt;&#x2F;CSSTransition&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*css文件*/</span></span><br><span class="line"><span class="selector-class">.idea-enter</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.01</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">40vw</span>, <span class="number">50vw</span>) <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.idea-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">50vw</span>, <span class="number">40vw</span>) <span class="built_in">scale</span>(<span class="number">0.5</span>);</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">500ms</span> linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.idea-enter-done</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">60vw</span>, <span class="number">30vw</span>) <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">500ms</span> linear;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.idea-exit</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">60vw</span>, <span class="number">30vw</span>) <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.idea-exit-active</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(<span class="number">100vw</span>, <span class="number">30vw</span>) <span class="built_in">scale</span>(<span class="number">1</span>);</span><br><span class="line">  <span class="attribute">transition</span>: all <span class="number">500ms</span> ease-in;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.idea-exit-done</span> &#123;</span><br><span class="line">  <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">scale</span>(<span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="TransitionGroup"><a href="#TransitionGroup" class="headerlink" title="TransitionGroup"></a>TransitionGroup</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import &#123; TransitionGroup, CSSTransition &#125; from &#39;react-transition-group&#39;;&#x2F;&#x2F;引入</span><br><span class="line"></span><br><span class="line">class Animition extends React.Component&#123;</span><br><span class="line">  this.state&#x3D;&#123;</span><br><span class="line">    texts: [&#39;“闲置品交易”&#39;, &#39;“高效收作业”&#39;, &#39;“校园需求”&#39;, &#39;“公选课选课指南”&#39;],</span><br><span class="line">    show:false</span><br><span class="line">  &#125;</span><br><span class="line">	render()&#123;</span><br><span class="line">     const texts &#x3D; showText.map((item, index) &#x3D;&gt; &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;CSSTransition</span><br><span class="line">          in&#x3D;&#123;true&#125;</span><br><span class="line">          timeout&#x3D;&#123;500&#125;</span><br><span class="line">          classNames&#x3D;&#123;&#39;show&#39; + index&#125;</span><br><span class="line">          key&#x3D;&#123;index&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div className&#x3D;&quot;thoughts&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;item&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;CSSTransition&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line">    return (</span><br><span class="line">    	&lt;TransitionGroup&gt;&#123;texts&#125;&lt;&#x2F;TransitionGroup&gt;</span><br><span class="line">    )</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight scss"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@for</span> <span class="variable">$i</span> from <span class="number">0</span> through <span class="number">3</span> &#123;</span><br><span class="line">  <span class="selector-class">.show</span>#&#123;<span class="variable">$i</span>&#125;-enter &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.01</span>;</span><br><span class="line">    <span class="attribute">transform</span>: translate(<span class="number">20vw</span>, <span class="number">60vw</span>) scale(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.show</span>#&#123;<span class="variable">$i</span>&#125;-enter-active &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0.5</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">500ms</span> linear;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.show</span>#&#123;<span class="variable">$i</span>&#125;-enter-done &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">1</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">500ms</span> linear;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.show</span>#&#123;<span class="variable">$i</span>&#125;-exit-active &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transition</span>: all <span class="number">500ms</span> ease-in;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="selector-class">.show</span>#&#123;<span class="variable">$i</span>&#125;-exit-done &#123;</span><br><span class="line">    <span class="attribute">opacity</span>: <span class="number">0</span>;</span><br><span class="line">    <span class="attribute">transform</span>: scale(<span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show0-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">30vw</span>, <span class="number">35vw</span>) scale(<span class="number">0.5</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show0-enter-done</span>,</span><br><span class="line"><span class="selector-class">.show0-exit</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">40vw</span>, <span class="number">10vw</span>) scale(<span class="number">1</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show1-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">10vw</span>, <span class="number">39vw</span>) scale(<span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show1-enter-done</span>,</span><br><span class="line"><span class="selector-class">.show1-exit</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">0vw</span>, <span class="number">18vw</span>) scale(<span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show2-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">8vw</span>, <span class="number">31vw</span>) scale(<span class="number">0.45</span>, <span class="number">0.4</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show2-enter-done</span>,</span><br><span class="line"><span class="selector-class">.show2-exit</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(-<span class="number">4vw</span>, <span class="number">2vw</span>) scale(<span class="number">0.9</span>, <span class="number">0.8</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show3-enter-active</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">29vw</span>, <span class="number">42vw</span>) scale(<span class="number">0.45</span>, <span class="number">0.35</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-class">.show3-enter-done</span>,</span><br><span class="line"><span class="selector-class">.show3-exit</span> &#123;</span><br><span class="line">  <span class="attribute">transform</span>: translate(<span class="number">38vw</span>, <span class="number">24vw</span>) scale(<span class="number">0.8</span>, <span class="number">0.7</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="一个完整的动画-demo"><a href="#一个完整的动画-demo" class="headerlink" title="一个完整的动画 demo"></a>一个完整的动画 demo</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import &#39;.&#x2F;one.scss&#39;;</span><br><span class="line">import &#123; TransitionGroup, CSSTransition &#125; from &#39;react-transition-group&#39;;</span><br><span class="line">import stop from &#39;..&#x2F;..&#x2F;assets&#x2F;imgs&#x2F;stop.png&#39;;</span><br><span class="line">import cont from &#39;..&#x2F;..&#x2F;assets&#x2F;imgs&#x2F;cont.png&#39;;</span><br><span class="line"></span><br><span class="line">let cancel1, cancel2, time;</span><br><span class="line"></span><br><span class="line">class One extends React.Component &#123;</span><br><span class="line">  constructor(props) &#123;</span><br><span class="line">    super(props);</span><br><span class="line">    this.state &#x3D; &#123;</span><br><span class="line">      bao: 0,</span><br><span class="line">      start: false,</span><br><span class="line">      show: false,</span><br><span class="line">      tishi: false,</span><br><span class="line">      btn: false,</span><br><span class="line">      texts: [&#39;“闲置品交易”&#39;, &#39;“高效收作业”&#39;, &#39;“校园需求”&#39;, &#39;“公选课选课指南”&#39;],</span><br><span class="line">      showText: [],</span><br><span class="line">      h1: null,</span><br><span class="line">      h2: null,</span><br><span class="line">      hs1: true,</span><br><span class="line">      hs2: true,</span><br><span class="line">      t: 0</span><br><span class="line">    &#125;;</span><br><span class="line">    this.handlePause &#x3D; this.handlePause.bind(this);</span><br><span class="line">    this.handleStart &#x3D; this.handleStart.bind(this);</span><br><span class="line">  &#125;</span><br><span class="line">  componentDidMount() &#123; &#x2F;&#x2F;挂载后，进行异步执行操作</span><br><span class="line">    let &#123; showText, texts &#125; &#x3D; this.state;</span><br><span class="line">    time &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">      let &#123; t &#125; &#x3D; this.state; &#x2F;&#x2F;记录时间，因为有一个不暂停的动画持续进行，以免在t之前的取消又进行别的动画</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        t: t + 1</span><br><span class="line">      &#125;);</span><br><span class="line">      console.log(this.state.t);</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">    cancel1 &#x3D; setInterval(() &#x3D;&gt; &#123;</span><br><span class="line">      if (texts.length &gt; 0) &#123;</span><br><span class="line">        let text &#x3D; texts.pop();</span><br><span class="line">        showText.push(text);</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">          texts: texts,</span><br><span class="line">          showText: showText</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;, 1000);</span><br><span class="line">    cancel2 &#x3D; setTimeout(() &#x3D;&gt; &#123;</span><br><span class="line">      this.setState(&#123;</span><br><span class="line">        showText: [],</span><br><span class="line">        tishi: true,</span><br><span class="line">        btn: true</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;, 6000);</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      h1: setTimeout(this.handle1, 8000),&#x2F;&#x2F;设定动画函数</span><br><span class="line">      h2: setTimeout(this.handle2, 10000)</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  handle1 &#x3D; () &#x3D;&gt; &#123;&#x2F;&#x2F;动画函数修改参数，以及hs记录动画状态</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      show: true,</span><br><span class="line">      tishi: false,</span><br><span class="line">      hs1: false</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  handle2 &#x3D; () &#x3D;&gt; &#123;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      show: false,</span><br><span class="line">      hs2: false</span><br><span class="line">    &#125;);</span><br><span class="line">    this.props.history.push(&#39;two&#39;);</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  handlePause() &#123;&#x2F;&#x2F;暂停函数，简单粗暴取消所有，并修改暂停按钮状态</span><br><span class="line">    clearTimeout(this.state.h1);</span><br><span class="line">    clearTimeout(this.state.h2);</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      start: true</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line">  handleStart() &#123;</span><br><span class="line">    const &#123; hs1, hs2, t &#125; &#x3D; this.state;</span><br><span class="line">    if (t &gt; 4) &#123;</span><br><span class="line">      if (hs1) &#123; &#x2F;&#x2F;监听动画执行的状态，重新设置动画函数</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">          h1: setTimeout(this.handle1, 1000),</span><br><span class="line">          h2: setTimeout(this.handle2, 3000)</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125; else if (hs2) &#123;</span><br><span class="line">        this.setState(&#123;</span><br><span class="line">          h2: setTimeout(this.handle2, 2000)</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    this.setState(&#123;</span><br><span class="line">      start: false</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  componentWillUnmount() &#123; &#x2F;&#x2F;卸载前取消所有定时器</span><br><span class="line">    clearInterval(time);</span><br><span class="line">    clearInterval(cancel1);</span><br><span class="line">    clearTimeout(cancel2);</span><br><span class="line">    clearTimeout(this.state.h1);</span><br><span class="line">    clearTimeout(this.state.h2);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  render() &#123;</span><br><span class="line">    const &#123; showText, show, start, bao &#125; &#x3D; this.state;</span><br><span class="line">    const texts &#x3D; showText.map((item, index) &#x3D;&gt; &#123;</span><br><span class="line">      return (</span><br><span class="line">        &lt;CSSTransition</span><br><span class="line">          in&#x3D;&#123;true&#125;</span><br><span class="line">          timeout&#x3D;&#123;500&#125;</span><br><span class="line">          classNames&#x3D;&#123;&#39;show&#39; + index&#125;</span><br><span class="line">          key&#x3D;&#123;index&#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div className&#x3D;&quot;thoughts&quot;&gt;</span><br><span class="line">            &lt;span&gt;&#123;item&#125;&lt;&#x2F;span&gt;</span><br><span class="line">          &lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;CSSTransition&gt;</span><br><span class="line">      );</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    return (</span><br><span class="line">      &lt;div className&#x3D;&quot;bg1&quot;&gt;</span><br><span class="line">        &lt;TransitionGroup&gt;&#123;texts&#125;&lt;&#x2F;TransitionGroup&gt;</span><br><span class="line">        &lt;CSSTransition</span><br><span class="line">          in&#x3D;&#123;show&#125;</span><br><span class="line">          timeout&#x3D;&#123;500&#125;</span><br><span class="line">          classNames&#x3D;&quot;idea&quot;</span><br><span class="line">          unmountOnExit</span><br><span class="line">          key&#x3D;&quot;idea&quot;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div className&#x3D;&quot;idea&quot; &#x2F;&gt;</span><br><span class="line">        &lt;&#x2F;CSSTransition&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt; &#123;</span><br><span class="line">            if (start) &#123;</span><br><span class="line">              this.handleStart();</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">              this.handlePause();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            window._czc.push([&#39;_trackEvent&#39;, &#39;1&#39;, &#39;点击&#39;, &#39;暂停&#39;, &#39;1&#39;]);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">          className&#x3D;&quot;start&quot;</span><br><span class="line">          style&#x3D;&#123;</span><br><span class="line">            start</span><br><span class="line">              ? &#123;</span><br><span class="line">                  backgroundImage: &#39;url(&#39; + cont + &#39;)&#39;,</span><br><span class="line">                  backgroundPositionX: &#39;60%&#39;</span><br><span class="line">                &#125;</span><br><span class="line">              : &#123; backgroundImage: &#39;url(&#39; + stop + &#39;)&#39; &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#x2F;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;div</span><br><span class="line">          className&#x3D;&quot;next&quot;</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt; &#123;</span><br><span class="line">            this.props.history.push(&#39;two&#39;);</span><br><span class="line">            window._czc.push([&#39;_trackEvent&#39;, &#39;1&#39;, &#39;点击&#39;, &#39;下一页&#39;, &#39;1&#39;]);</span><br><span class="line">          &#125;&#125;</span><br><span class="line">          style&#x3D;&#123;&#123; animation: &#39;next 1s linear infinite&#39; &#125;&#125;</span><br><span class="line">        &#x2F;&gt;</span><br><span class="line">        &lt;a</span><br><span class="line">          className&#x3D;&quot;nsignin&quot;</span><br><span class="line">          href&#x3D;&quot;#&quot;</span><br><span class="line">          onClick&#x3D;&#123;() &#x3D;&gt;</span><br><span class="line">            window._czc.push([&#39;_trackEvent&#39;, &#39;1&#39;, &#39;点击&#39;, &#39;直接报名&#39;, &#39;1&#39;])</span><br><span class="line">          &#125;</span><br><span class="line">        &gt;</span><br><span class="line">          &lt;div&gt;直接报名&lt;&#x2F;div&gt;</span><br><span class="line">        &lt;&#x2F;a&gt;</span><br><span class="line">      &lt;&#x2F;div&gt;</span><br><span class="line">    );</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">export default One;</span><br></pre></td></tr></table></figure>
<h2 id="字蛛"><a href="#字蛛" class="headerlink" title="字蛛"></a>字蛛</h2><p>原理，引入字体文件，爬取显示出的字，生成小的字体文件，引入即可</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- font.html --&gt;</span></span><br><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">"viewport"</span> <span class="attr">content</span>=<span class="string">"width=device-width, initial-scale=1.0"</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">      <span class="comment">/*声明 WebFont*/</span></span></span><br><span class="line"></span><br><span class="line"><span class="css">      <span class="keyword">@font-face</span> &#123;</span></span><br><span class="line">        font-family: 'hanyi';</span><br><span class="line">        src: url('./assets/font/hanyan.ttf');</span><br><span class="line">        src: url('./assets/font/hanyan?#font-spider') format('embedded-opentype'),</span><br><span class="line">          url('./assets/font/hanyan.woff') format('woff'),</span><br><span class="line">          url('./assets/font/hanyan.ttf') format('truetype'), url('./assets/font/hanyan.svg')</span><br><span class="line">            format('svg');</span><br><span class="line">        font-weight: normal;</span><br><span class="line">        font-style: normal;</span><br><span class="line">      &#125;</span><br><span class="line"><span class="css">      <span class="comment">/*使用选择器指定字体*/</span></span></span><br><span class="line"></span><br><span class="line">      * &#123;</span><br><span class="line">        font-family: 'hanyi';</span><br><span class="line">      &#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>“闲置品交易”, “高效收作业”, “校园需求”, “公选课选课指南”<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p>执行命令<code>npx font-spider font.html</code></p>
<h3 id="引入执行后的文件"><a href="#引入执行后的文件" class="headerlink" title="引入执行后的文件"></a>引入执行后的文件</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">@font-face</span> &#123;</span><br><span class="line">  <span class="attribute">font-family</span>: <span class="string">'hanyi'</span>;</span><br><span class="line">  <span class="attribute">src</span>: <span class="built_in">url</span>(<span class="string">'./assets/font/hanyan.woff'</span>) <span class="built_in">format</span>(<span class="string">'woff'</span>), <span class="built_in">url</span>(<span class="string">'./assets/font/hanyan.ttf'</span>)</span><br><span class="line">      <span class="built_in">format</span>(<span class="string">'truetype'</span>), <span class="built_in">url</span>(<span class="string">'./assets/font/hanyan.svg'</span>) <span class="built_in">format</span>(<span class="string">'svg'</span>);</span><br><span class="line">  <span class="attribute">font-weight</span>: normal;</span><br><span class="line">  <span class="attribute">font-style</span>: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="埋点——友盟"><a href="#埋点——友盟" class="headerlink" title="埋点——友盟"></a>埋点——友盟</h2><p><a href="https://workbench.umeng.com/home" target="_blank" rel="noopener">友盟站点</a></p>
<h3 id="监听网页"><a href="#监听网页" class="headerlink" title="监听网页"></a>监听网页</h3><p><img src="/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/zhandian.png" alt="image-20200227143037246"></p>
<h3 id="添加站点"><a href="#添加站点" class="headerlink" title="添加站点"></a>添加站点</h3><p><img src="/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/tianjia.png" alt="tianjia"></p>
<h3 id="生成代码"><a href="#生成代码" class="headerlink" title="生成代码"></a>生成代码</h3><p><img src="/2020/02/27/React-H5%E5%BC%80%E5%8F%91%E6%9C%89%E6%84%9F/shengcheng.png" alt="image-20200227143408049"></p>
<p>在 index.html 中引入</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span>&gt;</span></span><br><span class="line"><span class="javascript">    <span class="built_in">document</span>.write(<span class="built_in">unescape</span>(<span class="string">"复制引入"</span>)), <span class="built_in">document</span>.getElementById(<span class="string">"引入"</span>).style.display = <span class="string">"none"</span></span></span><br><span class="line"><span class="javascript">    <span class="keyword">var</span> _czc = <span class="built_in">window</span>._czc || [];</span></span><br><span class="line"><span class="actionscript">    _czc.push([<span class="string">"_setAccount"</span>, <span class="string">"查询号码"</span>])<span class="comment">//创建全局变量</span></span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">引入使用</span><br><span class="line"></span><br><span class="line"> <span class="tag">&lt;<span class="name">a</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> window._czc.push(['_trackEvent', '1', '点击', '直接报名', '1']) &#125;</span><br><span class="line">   &gt;<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="微信——JDK"><a href="#微信——JDK" class="headerlink" title="微信——JDK"></a>微信——JDK</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; location &#125; = <span class="built_in">window</span>;</span><br><span class="line"><span class="keyword">const</span> shareLink = location.toString();</span><br><span class="line"><span class="keyword">const</span> url = <span class="built_in">encodeURIComponent</span>(shareLink);</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 微信分享接口 在微信安卓版上表现正常 在IOS上无法正常分享</span></span><br><span class="line"><span class="comment"> * 原因： 安卓端浏览器自动对shareLink进行了encodeURIComponent</span></span><br><span class="line"><span class="comment"> *        IOS端默认不进行此操作 且IOS端会莫名其妙在地址后面加一些键值对</span></span><br><span class="line"><span class="comment"> *        那里面的 &amp; 符号 是需要转义的</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> appId = <span class="string">''</span>;</span><br><span class="line"><span class="keyword">const</span> wxAPI = <span class="string">'by接口'</span>;</span><br><span class="line"><span class="keyword">const</span> jsApiList = [</span><br><span class="line">  <span class="string">'onMenuShareAppMessage'</span>,</span><br><span class="line">  <span class="string">'onMenuShareTimeline'</span>,</span><br><span class="line">  <span class="string">'onMenuShareQQ'</span>,</span><br><span class="line">  <span class="string">'onMenuShareWeibo'</span>,</span><br><span class="line">  <span class="string">'onMenuShareQZone'</span></span><br><span class="line">];</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;Object&#125;</span> <span class="variable">shareConfig</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>shareConfig.title</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>shareConfig.desc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>shareConfig.link</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> </span>shareConfig.desc</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;function&#125;</span> </span>shareConfig.success</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;function&#125;</span> </span>shareConfig.cancel</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">share</span>(<span class="params">shareConfig</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> staticShareConfig = &#123;</span><br><span class="line">    title: <span class="string">''</span>,</span><br><span class="line">    desc: <span class="string">''</span>,</span><br><span class="line">    link: <span class="string">''</span>,</span><br><span class="line">    imgUrl: <span class="string">''</span>,</span><br><span class="line">    success() &#123;&#125;,</span><br><span class="line">    cancle() &#123;&#125;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="keyword">const</span> conf = <span class="built_in">Object</span>.assign(staticShareConfig, shareConfig);</span><br><span class="line">  <span class="keyword">return</span> fetch(<span class="string">`<span class="subst">$&#123;wxAPI&#125;</span>?url=<span class="subst">$&#123;url&#125;</span>`</span>)</span><br><span class="line">    .then(<span class="function"><span class="params">res</span> =&gt;</span> res.json())</span><br><span class="line">    .then(<span class="function"><span class="params">data</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> config = &#123;</span><br><span class="line">        debug: <span class="literal">false</span>,</span><br><span class="line">        appId: data.appId || data.appid || appId,</span><br><span class="line">        timestamp: data.timestamp,</span><br><span class="line">        nonceStr: data.nonce_str || data.noncestr,</span><br><span class="line">        signature: data.signature,</span><br><span class="line">        jsApiList: [...jsApiList],</span><br><span class="line">        success() &#123;&#125;,</span><br><span class="line">        cancel() &#123;&#125;</span><br><span class="line">      &#125;;</span><br><span class="line">      wx.config(config);</span><br><span class="line">      wx.ready(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">        jsApiList.forEach(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">if</span> (item === <span class="string">'onMenuShareTimeline'</span>) &#123;</span><br><span class="line">            wx.onMenuShareTimeline(conf);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">const</span> wxApi = wx[item];</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">typeof</span> wxApi === <span class="string">'function'</span>) &#123;</span><br><span class="line">            wxApi(conf);</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="built_in">console</span>.warn(<span class="string">`<span class="subst">$&#123;item&#125;</span> api not exist!!!`</span>);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">      &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="预加载——Preload"><a href="#预加载——Preload" class="headerlink" title="预加载——Preload"></a>预加载——Preload</h2><h3 id="preloadle"><a href="#preloadle" class="headerlink" title="preloadle"></a><code>preloadle</code></h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">import React from &#39;react&#39;;</span><br><span class="line">import Loadable from &#39;react-loadable&#39;;</span><br><span class="line">import Loader from &#39;.&#x2F;pages&#x2F;load&#x2F;loader&#39;;</span><br><span class="line"></span><br><span class="line">const LoadableMyApp &#x3D; Loadable(&#123;</span><br><span class="line">  loader: () &#x3D;&gt; import(&#39;.&#x2F;App&#39;),</span><br><span class="line">  loading() &#123;</span><br><span class="line">    console.log(&#39;loading&#39;);</span><br><span class="line">    return &lt;Loader &#x2F;&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">export default class MyApp extends React.Component &#123;</span><br><span class="line">  componentWillMount() &#123;</span><br><span class="line">    LoadableMyApp.preload();</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    return &lt;LoadableMyApp &#x2F;&gt;;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="预加载图片资源"><a href="#预加载图片资源" class="headerlink" title="预加载图片资源"></a>预加载图片资源</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//resLoader.js</span></span><br><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params">root, factory</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> define === <span class="string">'function'</span> &amp;&amp; define.amd) &#123;</span><br><span class="line">    <span class="comment">//AMD</span></span><br><span class="line">    define(factory);</span><br><span class="line">  &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="keyword">typeof</span> exports === <span class="string">'object'</span>) &#123;</span><br><span class="line">    <span class="comment">//Node, CommonJS之类的</span></span><br><span class="line">    <span class="built_in">module</span>.exports = factory();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//浏览器全局变量(root 即 window)</span></span><br><span class="line">    root.resLoader = factory(root);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)(<span class="keyword">this</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> isFunc = <span class="function"><span class="keyword">function</span>(<span class="params">f</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">typeof</span> f === <span class="string">'function'</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">  <span class="comment">//构造器函数</span></span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">resLoader</span>(<span class="params">config</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.option = &#123;</span><br><span class="line">      resourceType: <span class="string">'image'</span>, <span class="comment">//资源类型，默认为图片</span></span><br><span class="line">      baseUrl: <span class="string">'./'</span>, <span class="comment">//基准url</span></span><br><span class="line">      resources: [], <span class="comment">//资源路径数组</span></span><br><span class="line">      onStart: <span class="literal">null</span>, <span class="comment">//加载开始回调函数，传入参数total</span></span><br><span class="line">      onProgress: <span class="literal">null</span>, <span class="comment">//正在加载回调函数，传入参数currentIndex, total</span></span><br><span class="line">      onComplete: <span class="literal">null</span> <span class="comment">//加载完毕回调函数，传入参数total</span></span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="keyword">if</span> (config) &#123;</span><br><span class="line">      <span class="keyword">for</span> (i <span class="keyword">in</span> config) &#123;</span><br><span class="line">        <span class="keyword">this</span>.option[i] = config[i];</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      alert(<span class="string">'参数错误！'</span>);</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">this</span>.status = <span class="number">0</span>; <span class="comment">//加载器的状态，0：未启动   1：正在加载   2：加载完毕</span></span><br><span class="line">    <span class="keyword">this</span>.total = <span class="keyword">this</span>.option.resources.length || <span class="number">0</span>; <span class="comment">//资源总数</span></span><br><span class="line">    <span class="keyword">this</span>.currentIndex = <span class="number">0</span>; <span class="comment">//当前正在加载的资源索引</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  resLoader.prototype.start = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.status = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">var</span> baseUrl = <span class="keyword">this</span>.option.baseUrl;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>, l = <span class="keyword">this</span>.option.resources.length; i &lt; l; i++) &#123;</span><br><span class="line">      <span class="keyword">var</span> r = <span class="keyword">this</span>.option.resources[i],</span><br><span class="line">        url = <span class="string">''</span>;</span><br><span class="line">      <span class="keyword">if</span> (r.indexOf(<span class="string">'http://'</span>) === <span class="number">0</span> || r.indexOf(<span class="string">'https://'</span>) === <span class="number">0</span>) &#123;</span><br><span class="line">        url = r;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        url = baseUrl + r;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">var</span> image = <span class="keyword">new</span> Image();</span><br><span class="line">      image.onload = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        _this.loaded();</span><br><span class="line">      &#125;;</span><br><span class="line">      image.onerror = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        _this.loaded();</span><br><span class="line">      &#125;;</span><br><span class="line">      image.src = url;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (isFunc(<span class="keyword">this</span>.option.onStart)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.option.onStart(<span class="keyword">this</span>.total);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  resLoader.prototype.loaded = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (isFunc(<span class="keyword">this</span>.option.onProgress)) &#123;</span><br><span class="line">      <span class="keyword">this</span>.option.onProgress(++<span class="keyword">this</span>.currentIndex, <span class="keyword">this</span>.total);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//加载完毕</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">this</span>.currentIndex === <span class="keyword">this</span>.total) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isFunc(<span class="keyword">this</span>.option.onComplete)) &#123;</span><br><span class="line">        <span class="keyword">this</span>.option.onComplete(<span class="keyword">this</span>.total);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;;</span><br><span class="line"></span><br><span class="line">  <span class="comment">//暴露公共方法</span></span><br><span class="line">  <span class="keyword">return</span> resLoader;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>调用函数</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> loader = <span class="keyword">new</span> resLoader(&#123;</span><br><span class="line">  resources: [</span><br><span class="line">    <span class="comment">//相对路径即可，react项目中，可在打包后的，asset-manifest.json中找到</span></span><br><span class="line">    <span class="string">'./static/media/123.1fb4d1e6.gif'</span>,</span><br><span class="line">    <span class="string">'./static/media/thoughts.84182ca8.png'</span>,</span><br><span class="line">    <span class="string">'./static/media/yonghu.5eb5a0de.png'</span></span><br><span class="line">  ],</span><br><span class="line">  onStart: <span class="function"><span class="keyword">function</span>(<span class="params">total</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'start:'</span> + total);</span><br><span class="line">  &#125;,</span><br><span class="line">  onProgress: <span class="function"><span class="keyword">function</span>(<span class="params">current, total</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(current + <span class="string">'/'</span> + total);</span><br><span class="line">    <span class="keyword">let</span> percent = (current / total) * <span class="number">100</span>;</span><br><span class="line">    $(<span class="string">'.progressbar'</span>).css(<span class="string">'width'</span>, percent + <span class="string">'%'</span>);</span><br><span class="line">    $(<span class="string">'.progresstext .current'</span>).text(current);</span><br><span class="line">    $(<span class="string">'.progresstext .total'</span>).text(total);</span><br><span class="line">  &#125;,</span><br><span class="line">  onComplete: <span class="function"><span class="keyword">function</span>(<span class="params">total</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'加载完毕:'</span> + total + <span class="string">'个资源'</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">loader.start();</span><br></pre></td></tr></table></figure>
<h2 id="上线"><a href="#上线" class="headerlink" title="上线"></a>上线</h2><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//package.json</span></span><br><span class="line">"homepage": "."</span><br></pre></td></tr></table></figure>
<p><code>npm run build</code></p>
<h2 id="npm以及各种-bug"><a href="#npm以及各种-bug" class="headerlink" title="npm以及各种 bug"></a><code>npm</code>以及各种 bug</h2><p>。。。总有奇奇怪怪的 bug，清除缓存，npx 执行命令</p>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/ES6/" rel="tag"><i class="fa fa-tag"></i> ES6</a>
              <a href="/tags/React/" rel="tag"><i class="fa fa-tag"></i> React</a>
              <a href="/tags/%E5%B7%A5%E7%A8%8B/" rel="tag"><i class="fa fa-tag"></i> 工程</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2020/02/27/Promise/" rel="prev" title="Promise">
      <i class="fa fa-chevron-left"></i> Promise
    </a></div>
      <div class="post-nav-item">
    <a href="/2020/03/16/%E7%A6%BB%E6%95%A3%E6%95%B0%E5%AD%A6/" rel="next" title="群论">
      群论 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let activeClass = CONFIG.comments.activeClass;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#React-H5-开发有感"><span class="nav-number">1.</span> <span class="nav-text">React H5 开发有感</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#React"><span class="nav-number">1.1.</span> <span class="nav-text">React</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#官方脚手架"><span class="nav-number">1.1.1.</span> <span class="nav-text">官方脚手架</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#路由处理"><span class="nav-number">1.1.2.</span> <span class="nav-text">路由处理</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#在-Page-文件夹导出所有页面"><span class="nav-number">1.1.2.1.</span> <span class="nav-text">在 Page 文件夹导出所有页面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#创建路由配置文件"><span class="nav-number">1.1.2.2.</span> <span class="nav-text">创建路由配置文件</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#引入路由配置（具有动画的配置）"><span class="nav-number">1.1.2.3.</span> <span class="nav-text">引入路由配置（具有动画的配置）</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#挂载"><span class="nav-number">1.1.2.4.</span> <span class="nav-text">挂载</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#长按Button封装"><span class="nav-number">1.1.3.</span> <span class="nav-text">长按Button封装</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#动画——react-transition-group"><span class="nav-number">1.2.</span> <span class="nav-text">动画——react-transition-group</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CSSTransition"><span class="nav-number">1.2.1.</span> <span class="nav-text">CSSTransition</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#TransitionGroup"><span class="nav-number">1.2.2.</span> <span class="nav-text">TransitionGroup</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#一个完整的动画-demo"><span class="nav-number">1.2.3.</span> <span class="nav-text">一个完整的动画 demo</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字蛛"><span class="nav-number">1.3.</span> <span class="nav-text">字蛛</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#引入执行后的文件"><span class="nav-number">1.3.1.</span> <span class="nav-text">引入执行后的文件</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#埋点——友盟"><span class="nav-number">1.4.</span> <span class="nav-text">埋点——友盟</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#监听网页"><span class="nav-number">1.4.1.</span> <span class="nav-text">监听网页</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#添加站点"><span class="nav-number">1.4.2.</span> <span class="nav-text">添加站点</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#生成代码"><span class="nav-number">1.4.3.</span> <span class="nav-text">生成代码</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#微信——JDK"><span class="nav-number">1.5.</span> <span class="nav-text">微信——JDK</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#预加载——Preload"><span class="nav-number">1.6.</span> <span class="nav-text">预加载——Preload</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#preloadle"><span class="nav-number">1.6.1.</span> <span class="nav-text">preloadle</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#预加载图片资源"><span class="nav-number">1.6.2.</span> <span class="nav-text">预加载图片资源</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#上线"><span class="nav-number">1.7.</span> <span class="nav-text">上线</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#npm以及各种-bug"><span class="nav-number">1.8.</span> <span class="nav-text">npm以及各种 bug</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Lee Yue"
      src="/images/header.jpg">
  <p class="site-author-name" itemprop="name">Lee Yue</p>
  <div class="site-description" itemprop="description">Some Blogs</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">21</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">14</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/LeylaSheth" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;LeylaSheth" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:YUE181105@gmail.com" title="E-Mail → mailto:YUE181105@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://www.facebook.com/profile.php?id=100045278894669" title="FB Page → https:&#x2F;&#x2F;www.facebook.com&#x2F;profile.php?id&#x3D;100045278894669" rel="noopener" target="_blank"><i class="fa fa-fw fa-facebook"></i>FB Page</a>
      </span>
      <span class="links-of-author-item">
        <a href="/atom.xml" title="RSS → &#x2F;atom.xml"><i class="fa fa-fw fa-rss"></i>RSS</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
   &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Lee Yue</span>
  <span class="post-meta-divider">|</span>
  <span class="post-meta-item-icon">
      <i class="fa fa-area-chart"></i>
    </span>
  <span title="站点总字数">138k</span>
  <span class="post-meta-divider">|</span>
  <span class="post-meta-item-icon">
      <i class="fa fa-coffee"></i>
    </span>
  <span title="站点阅读时长">2:06</span>
</div>
<!-- <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div> -->
<span class="post-meta-divider">|</span>
<div class="theme-info">主题 – <a href="https://pisces.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Pisces</a> v7.7.0
</div>
        








      </div>
    </footer>
  </div>

  
  
  <script color='0,0,255' opacity='0.5' zIndex='1' count='150' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  




  
<script src="/js/local-search.js"></script>













  

  

  

  
<script type="text/javascript" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>


   <canvas class="fireworks" style="position: fixed;left: 0;top: 0;z-index: 1; pointer-events: none;" ></canvas> 
   <script type="text/javascript" src="//cdn.bootcss.com/animejs/2.2.0/anime.min.js"></script> 
   <script type="text/javascript" src="/js/src/fireworks.js"></script>

<script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","model":{"jsonPath":"live2d-widget-model-wanko"},"display":{"position":"right","width":150,"height":300},"mobile":{"show":true},"log":false,"tagMode":false});</script></body>
</html>
